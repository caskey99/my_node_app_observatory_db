# Лабораторная работа по базам данных №2
Автор: аспирант Субботин А.Н., каф. МО ЭВМ, СПбГЭТУ «ЛЭТИ»


Задание: улучшить структуру базы данных.
Результат: схема базы данных с настроенными связями, подтвержденная снимком экрана (показывать через стрим в Discord не нужно).

Правительство Боливии обратилось к российским ученым с предложением возродить космическую обсерваторию советских времен. В рамках данного предложения с российской стороны был поставлен на территорию Боливии новый телескоп. Технологии наблюдения за звездным небом были разработаны учеными НИУ ИТМО.
Настройкой и наладкой телескопа занимались ученые из России по совместным договорам. Совместно с группой ученых был отправлен на стажировку магистр НИУ ИТМО для настройки программной части телескопа.
После установки всех технологических шкафов, подключения шлейфов и установки в них модулей со встроенными компьютерами, были обнаружены недоработки в части программного обеспечения. А именно: во причине более широкого диапазона и высокой точности телескопа и оптики, структура базы данных для хранения сведений звёздного неба не соответствовала заявленным возможностям. 
Начальник группы автоматизации Антон Попов предложил Вам доработать на месте базу данных (БД). Для начала, Вам предлагается разработать свою структуру БД в виде объектов, где должны быть таблицы: Сектор (id, координаты, световая интенсивность, посторонние объекты, количество объектов звездного неба, количество неопределенных объектов, количество уточненных объектов, примечания), Объекты (id объекта, тип, точность определения, количество, время, дата, примечание), Естественные объекты (id объекта, тип, галактика, точность, световой поток, сопряженные объекты, примечание), Положение (id положения, положение Земли, положение Солнца, положение Луны). 
Вам нужно придумать пятую таблицу с id, которая свяжет между собой все четыре таблицы. Далее, начальник автоматизации в Боливии просит Вас придумать названия для таблиц и столбцов на английском языке в одно слово.
Структура БД должна быть сделана в MySQL или MariaDB, поскольку эти СУБД ориентированы на web-разработку. Типы данных в столбцах выбрать по смыслу занимаемой информации.
Для одной любой таблицы создать триггер, который будет выполняться после команды UPDATE, проверять отсутствие столбца date_update и, в случае отсутствия, добавлять этот столбец командой ALTER TABLE. В любом случае, добавлять текущую дату и время. Добавить процедуру, которая принимает два параметра: названия двух таблиц. В процедуре объединить выборку SELECT из двух таблиц с помощью оператора JOIN. Определить номер варианта аналогично, как в лаб. работе №1. Исправить скрипт для редактирования одной таблицы, чтобы он работал через процедуру вместо SELECT.

Результат Вашей лабораторной работы должен быть представлен в виде отчёта:
1)	объектная схема (кружки и связи без типов данных);
2)	реляционная схема с настроенными связями по ключам id;
3)	схема БД с названиями таблиц и полей на английском языке;
4)	ссылка на GitHub с исправленным скриптом (с текстом процедуры и триггера).

Отчет о лабораторной работе оформляется в стандартном виде (PDF) и высылается на почту для дополнительной проверки (защиты в стрим Discord не будет).
